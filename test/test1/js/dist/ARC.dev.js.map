{"version":3,"sources":["ARC.js"],"names":["calculateChecksum","arcNumber","areaCodeMap","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","firstChar","charAt","secondChar","areaCode","genderCode","firstPart","Math","floor","digits","substr","secondPart","i","parseInt","sum","checksum","form","document","getElementById","addEventListener","event","preventDefault","arcNumberInput","value","trim","enteredChecksum","length","expectedChecksum","resultDiv","textContent","correctarcNumber"],"mappings":"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","sourcesContent":["function calculateChecksum(arcNumber) {\r\n    const areaCodeMap = {\r\n        A: 10, B: 11, C: 12, D: 13, E: 14,\r\n        F: 15, G: 16, H: 17, I: 34, J: 18,\r\n        K: 19, L: 20, M: 21, N: 22, O: 35,\r\n        P: 23, Q: 24, R: 25, S: 26, T: 27,\r\n        U: 28, V: 29, W: 32, X: 30, Y: 31, Z: 33\r\n    };\r\n\r\n    const firstChar = arcNumber.charAt(0);\r\n    const secondChar = arcNumber.charAt(1);\r\n    const areaCode = areaCodeMap[firstChar];\r\n    const genderCode = areaCodeMap[secondChar];\r\n\r\n    let firstPart;\r\n    if (secondChar === 'A' || secondChar === 'B' || secondChar === 'C' || secondChar === 'D') {\r\n        firstPart = Math.floor(areaCode / 10) * 1 + (areaCode * 9) % 10 + (genderCode % 10) * 8;\r\n        const digits = arcNumber.substr(2);\r\n        let secondPart = 0;\r\n        for (let i = 0; i < 7; i++) {\r\n            secondPart += parseInt(digits.charAt(i)) * (7 - i);\r\n        }\r\n\r\n        const sum = firstPart + secondPart;\r\n        const checksum = 10 - (sum % 10);\r\n        return checksum;\r\n    } else {\r\n        firstPart = Math.floor(areaCode / 10) * 1 + (areaCode * 9) % 10;\r\n        const digits = arcNumber.substr(1);\r\n        let secondPart = 0;\r\n        for (let i = 0; i < 8; i++) {\r\n            secondPart += parseInt(digits.charAt(i)) * (8 - i);\r\n        }\r\n\r\n        const sum = firstPart + secondPart;\r\n        const checksum = 10 - (sum % 10);\r\n        return checksum;\r\n    }\r\n}\r\n\r\nconst form = document.getElementById('arcNumberForm');\r\nform.addEventListener('submit', function (event) {\r\n    event.preventDefault();\r\n    const arcNumberInput = document.getElementById('arcNumberInput');\r\n    const arcNumber = arcNumberInput.value.trim();\r\n    const enteredChecksum = parseInt(arcNumber.charAt(arcNumber.length - 1)); // 使用者輸入的檢查碼\r\n    const expectedChecksum = calculateChecksum(arcNumber.substr(0, arcNumber.length - 1)); // 預期的檢查碼\r\n\r\n    if (enteredChecksum === expectedChecksum) {\r\n        const resultDiv = document.getElementById('result');\r\n        resultDiv.textContent = `居留證號碼 ${arcNumber} 的檢查碼正確：${enteredChecksum}`;\r\n    } else {\r\n        const correctarcNumber = arcNumber.substr(0, arcNumber.length - 1) + expectedChecksum;\r\n        const resultDiv = document.getElementById('result');\r\n        resultDiv.textContent = `您輸入的檢查碼 ${enteredChecksum} 錯誤，正確的檢查碼應為 ${expectedChecksum}。重新計算後的居留證號碼：${correctarcNumber}`;\r\n        arcNumberInput.value = correctarcNumber; // 更新輸入框的值為正確的居留證號碼\r\n    }\r\n});"],"file":"ARC.dev.js"}