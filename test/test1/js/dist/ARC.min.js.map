{"version":3,"sources":["ARC.js"],"names":["calculateChecksum","arcNumber","firstPart","areaCodeMap","A","E","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","firstChar","charAt","secondChar","areaCode","genderCode","Math","floor","digits","substr","secondPart","i","parseInt","form","getElementById","addEventListener","event","preventDefault","arcNumberInput","value","trim","enteredChecksum","length","sum","expectedChecksum","document","correctarcNumber"],"mappings":"aAAA,SAASA,kBAAkBC,GACvB,IAGOC,EAHDC,EAAc,CADxBC,EAASJ,GAAAA,EAAAA,GAAAA,EAAAA,GAAkBC,EAAAA,GAA3BI,EAAsC,GAC5BF,EAAAA,GAAAA,EAAW,GAAGG,EAAA,GAAAC,EAAA,GAAAC,EAAA,GACbC,EADa,GAAAC,EAAA,GAAAC,EAAA,GAAAC,EAAA,GAAAC,EAAA,GACNC,EADM,GAAAC,EAAA,GAAAC,EAAA,GAAAC,EAAA,GAAAC,EAAA,GACCC,EADD,GAAAC,EAAA,GAAAC,EAAA,GAAAC,EAAA,GAAAC,EAAA,GAAAC,EAAA,IAAAC,EAAAxB,EAAAyB,OAAA,GAAAC,EAAA1B,EAAAyB,OAAA,GAAAE,EAAAzB,EAAAsB,GAAAI,EAAA1B,EAAAwB,GAGTjB,GAHS,MAGNiB,GAHM,MAAAA,GAAA,MAAAA,GAAA,MAAAA,EAAA,CAGCzB,EAHD,EAAA4B,KAAAC,MAAAH,EAAA,IAAA,EAAAA,EAAA,GAAAC,EAAA,GAAA,EAIb,IADqB,IAHRG,EAAA/B,EAAAgC,OAAA,GAAAC,EAAA,EAAAC,EAAA,EAAAA,EAAA,EAAAA,IAAAD,GAAAE,SAAAJ,EAAAN,OAAAS,KAAA,EAAAA,GAKN,OALM,IAAAjC,EAAAgC,GAAA,GAKQhC,EALR,EAAA4B,KAAAC,MAAAH,EAAA,IAAA,EAAAA,EAAA,GAApB,IAKmC,IALfI,EAAA/B,EAAAgC,OAAA,GAKsBC,EAAA,EAL1CC,EAAA,EAAAA,EAAA,EAAAA,IAQMV,GAAYxB,SAAiB+B,EAAnCN,OAAAS,KAAA,EAAAA,GA2BI,OAtBJ,IAFmBhC,EAAYwB,GAE/B,GAII,IAAAU,KAAIH,SAAJI,eAAA,iBAuBRD,KAAKE,iBAAiB,SAAU,SAAUC,GAtBlCA,EAAKC,iBACDP,IAAAA,EAAcE,SAAgBV,eAAc,kBAC/CzB,EAAAyC,EAAAC,MAAAC,OAwBCC,EAAkBT,SAASnC,EAAUyB,OAAOzB,EAAU6C,OAAS,IAtB3DC,EAAkBb,kBAAxBjC,EAAAgC,OAAA,EAAAhC,EAAA6C,OAAA,IAEA,GAAAD,IAAAG,EAAA,CACGC,SAAAX,eAAA,UACSR,YAAZ5B,SAAAA,OAAYD,EAAZC,YAAAA,OAA4C2C,OAwBzC,CAvBGb,IAAAA,EAAmBC,EAAzBA,OAAA,EAAAhC,EAAA6C,OAAA,GAAAE,EAyBkBC,SAASX,eAAe,UAxBtCJ,YAAAA,WAAAA,OAAJW,EAAIX,iBAAAA,OAAJc,EAAId,iBAAAA,OAAJgB,GA0BAR,EAAeC,MAAQO","file":"ARC.min.js","sourcesContent":["function calculateChecksum(arcNumber) {\r\n    const areaCodeMap = {\r\n        A: 10, B: 11, C: 12, D: 13, E: 14,\r\n        F: 15, G: 16, H: 17, I: 34, J: 18,\r\n        K: 19, L: 20, M: 21, N: 22, O: 35,\r\n        P: 23, Q: 24, R: 25, S: 26, T: 27,\r\n        U: 28, V: 29, W: 32, X: 30, Y: 31, Z: 33\r\n    };\r\n\r\n    const firstChar = arcNumber.charAt(0);\r\n    const secondChar = arcNumber.charAt(1);\r\n    const areaCode = areaCodeMap[firstChar];\r\n    const genderCode = areaCodeMap[secondChar];\r\n\r\n    let firstPart;\r\n    if (secondChar === 'A' || secondChar === 'B' || secondChar === 'C' || secondChar === 'D') {\r\n        firstPart = Math.floor(areaCode / 10) * 1 + (areaCode * 9) % 10 + (genderCode % 10) * 8;\r\n        const digits = arcNumber.substr(2);\r\n        let secondPart = 0;\r\n        for (let i = 0; i < 7; i++) {\r\n            secondPart += parseInt(digits.charAt(i)) * (7 - i);\r\n        }\r\n\r\n        const sum = firstPart + secondPart;\r\n        const checksum = 10 - (sum % 10);\r\n        return checksum;\r\n    } else {\r\n        firstPart = Math.floor(areaCode / 10) * 1 + (areaCode * 9) % 10;\r\n        const digits = arcNumber.substr(1);\r\n        let secondPart = 0;\r\n        for (let i = 0; i < 8; i++) {\r\n            secondPart += parseInt(digits.charAt(i)) * (8 - i);\r\n        }\r\n\r\n        const sum = firstPart + secondPart;\r\n        const checksum = 10 - (sum % 10);\r\n        return checksum;\r\n    }\r\n}\r\n\r\nconst form = document.getElementById('arcNumberForm');\r\nform.addEventListener('submit', function (event) {\r\n    event.preventDefault();\r\n    const arcNumberInput = document.getElementById('arcNumberInput');\r\n    const arcNumber = arcNumberInput.value.trim();\r\n    const enteredChecksum = parseInt(arcNumber.charAt(arcNumber.length - 1)); // 使用者輸入的檢查碼\r\n    const expectedChecksum = calculateChecksum(arcNumber.substr(0, arcNumber.length - 1)); // 預期的檢查碼\r\n\r\n    if (enteredChecksum === expectedChecksum) {\r\n        const resultDiv = document.getElementById('result');\r\n        resultDiv.textContent = `居留證號碼 ${arcNumber} 的檢查碼正確：${enteredChecksum}`;\r\n    } else {\r\n        const correctarcNumber = arcNumber.substr(0, arcNumber.length - 1) + expectedChecksum;\r\n        const resultDiv = document.getElementById('result');\r\n        resultDiv.textContent = `您輸入的檢查碼 ${enteredChecksum} 錯誤，正確的檢查碼應為 ${expectedChecksum}。重新計算後的居留證號碼：${correctarcNumber}`;\r\n        arcNumberInput.value = correctarcNumber; // 更新輸入框的值為正確的居留證號碼\r\n    }\r\n});"]}