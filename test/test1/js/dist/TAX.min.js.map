{"version":3,"sources":["TAX.js"],"names":["calculateChecksum","taxNumber","firstPart","secondPart","weight","i","length","number","parseInt","charAt","Math","floor","calculateTAXChecksum","trim","cleanedInput","reg","charCodeAt","expectedChecksum","concat"],"mappings":"aACO,SAASA,kBAAkBC,GAIhC,IAHA,IAAIC,EAAY,EACZC,EAAa,EACXC,EAAS,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC5BC,EAAI,EAAGA,EAAIJ,EAAUK,OAAQD,IAAK,CACzC,IAAME,EAASC,SAASP,EAAUQ,OAAOJ,IAAMD,EAAOC,GACtDH,GAAaQ,KAAKC,MAAMJ,EAAS,IAPrCJ,GAAAI,EAAA,GAGE,OADIL,EAAJC,EAGK,SAALS,qBAA8BN,GAc5B,IAbA,IAAMC,EAAiBN,EAAUY,OAEjCV,EAAAH,kBAAAc,GAWQT,EAAI,EAAGA,EAAIS,EAAaR,OAAQD,IAT1C,CACA,IAAAU,EAAAD,EAAAT,GAAAW,WAAA,GACD,GAAAD,EAAA,IAAA,GAAAA,EAAA,MAAA,aAgBG,OAAIE,EAAmB,IAAO,EAXxBA,QAAAA,OAAgBH,EAAhBG,WAayB,MAApBH,EAAa,KAAeG,EAAmB,GAAK,IAAO,EAXtE,QAAAC,OAAgBJ,EAAhB,YAcI,UAAAI,OAAiBJ,EAAjB","file":"TAX.min.js","sourcesContent":["// 計算統一編號的檢查碼\r\nexport function calculateChecksum(taxNumber) {\r\n  let firstPart = 0;\r\n  let secondPart = 0;\r\n  const weight = [1, 2, 1, 2, 1, 2, 4, 1]; // 權重陣列  \r\n  for (let i = 0; i < taxNumber.length; i++) {\r\n    const number = parseInt(taxNumber.charAt(i)) * weight[i];\r\n    firstPart += Math.floor(number / 10);\r\n    secondPart += number % 10;\r\n  }\r\n  const sum = firstPart + secondPart;\r\n  return sum;\r\n};\r\n    \r\nexport function calculateTAXChecksum(taxNumber) {  \r\n    const cleanedInput = taxNumber.trim();\r\n    // 檢查統一編號格式\r\n    const expectedChecksum = calculateChecksum(cleanedInput)\r\n\r\n    for(let i = 0; i < cleanedInput.length; i++)\r\n    {\r\n      const reg = cleanedInput[i].charCodeAt(0);\r\n      if(reg<48 || reg>57)\r\n      {\r\n        return `統一編號應該全為數字`;\r\n      }\r\n    }\r\n\r\n    if (expectedChecksum % 10 === 0) {\r\n        return `統一編號 ${cleanedInput} 的檢查碼正確`;\r\n    } else if (cleanedInput[6] === '7' && (expectedChecksum + 1) % 10 === 0) {\r\n      return `統一編號 ${cleanedInput} 的檢查碼正確耶`;\r\n    }else {\r\n        return `您的統一編號 ${cleanedInput} 錯誤。`;\r\n    }\r\n  };"]}